project on function and more nested loop
